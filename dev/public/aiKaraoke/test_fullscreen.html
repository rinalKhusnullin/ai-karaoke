<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞</title>
    <link rel="stylesheet" href="css/karaoke.css">
</head>
<body>
    <div style="max-width: 800px; margin: 20px auto; padding: 20px;">
        <h1>–¢–µ—Å—Ç –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ –∫–∞—Ä–∞–æ–∫–µ</h1>

        <div class="slides-container">
            <!-- –°–ª–∞–π–¥ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º -->
            <div class="karaoke-slide" id="slide-0">
                <img src="images/slide_0_1752324308.png" alt="Slide 1" class="slide-image" loading="lazy">
                <div class="slide-content">
                    <div class="slide-text">–ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –ø–µ—Å–Ω–∏<br>–í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞ –ø–µ—Å–Ω–∏<br>–¢—Ä–µ—Ç—å—è —Å—Ç—Ä–æ–∫–∞ –ø–µ—Å–Ω–∏</div>
                    <div class="slide-timing">0:00 - 0:15</div>
                </div>
            </div>

            <!-- –°–ª–∞–π–¥ –±–µ–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä) -->
            <div class="karaoke-slide" id="slide-1">
                <div class="slide-placeholder">üéµ<br>–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ<br>–Ω–µ –Ω–∞–π–¥–µ–Ω–æ</div>
                <div class="slide-content">
                    <div class="slide-text">–ß–µ—Ç–≤–µ—Ä—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ –ø–µ—Å–Ω–∏<br>–ü—è—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ –ø–µ—Å–Ω–∏<br>–®–µ—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ –ø–µ—Å–Ω–∏</div>
                    <div class="slide-timing">0:15 - 0:30</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–ª–∞–π–¥–æ–≤
        const testSlides = [
            {
                text: "–ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –ø–µ—Å–Ω–∏\n–í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞ –ø–µ—Å–Ω–∏\n–¢—Ä–µ—Ç—å—è —Å—Ç—Ä–æ–∫–∞ –ø–µ—Å–Ω–∏",
                image: "images/slide_0_1752324308.png",
                start: 0,
                end: 15
            },
            {
                text: "–ß–µ—Ç–≤–µ—Ä—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ –ø–µ—Å–Ω–∏\n–ü—è—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ –ø–µ—Å–Ω–∏\n–®–µ—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ –ø–µ—Å–Ω–∏",
                image: null,
                start: 15,
                end: 30
            }
        ];

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ —Å–ª–∞–π–¥–∞
        function showFullscreenSlide(slide, index) {
            // –°–æ–∑–¥–∞–µ–º –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç
            let fullscreenContainer = document.getElementById('slides-fullscreen');
            if (!fullscreenContainer) {
                fullscreenContainer = document.createElement('div');
                fullscreenContainer.id = 'slides-fullscreen';
                fullscreenContainer.className = 'slides-fullscreen';
                document.body.appendChild(fullscreenContainer);
            }

            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–∞–∫ —Ñ–æ–Ω
            if (slide.image) {
                fullscreenContainer.style.backgroundImage = `url(${slide.image})`;
            } else {
                fullscreenContainer.style.backgroundImage = 'none';
                fullscreenContainer.style.background = 'linear-gradient(135deg, #1a1a2e, #16213e)';
            }

            // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫ –≤ HTML <br> —Ç–µ–≥–∏ –¥–ª—è –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
            const formattedText = slide.text.replace(/\n/g, '<br>');

            // –ó–∞–ø–æ–ª–Ω—è–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç
            fullscreenContainer.innerHTML = `
                <div class="fullscreen-controls">
                    <button class="fullscreen-btn" onclick="this.parentElement.parentElement.style.display='none'">
                        –ó–∞–∫—Ä—ã—Ç—å (ESC)
                    </button>
                </div>
                <div class="fullscreen-slide">
                    <div class="fullscreen-slide-text">${formattedText}</div>
                </div>
            `;

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º
            fullscreenContainer.style.display = 'flex';

            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ ESC
            const escHandler = (e) => {
                if (e.key === 'Escape') {
                    fullscreenContainer.style.display = 'none';
                    document.removeEventListener('keydown', escHandler);
                }
            };
            document.addEventListener('keydown', escHandler);

            // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –Ω–∞ —Ñ–æ–Ω
            fullscreenContainer.addEventListener('click', (e) => {
                if (e.target === fullscreenContainer) {
                    fullscreenContainer.style.display = 'none';
                }
            });
        }

        // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
        document.addEventListener('DOMContentLoaded', () => {
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –ø–µ—Ä–≤–æ–º —Å–ª–∞–π–¥–µ
            const imageElement = document.querySelector('#slide-0 .slide-image');
            if (imageElement) {
                imageElement.addEventListener('dblclick', (e) => {
                    e.stopPropagation();
                    showFullscreenSlide(testSlides[0], 0);
                });
            }

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–∞ –≤–æ –≤—Ç–æ—Ä–æ–º —Å–ª–∞–π–¥–µ
            const placeholderElement = document.querySelector('#slide-1 .slide-placeholder');
            if (placeholderElement) {
                placeholderElement.addEventListener('click', (e) => {
                    e.stopPropagation();
                    showFullscreenSlide(testSlides[1], 1);
                });
            }
        });
    </script>
</body>
</html>
